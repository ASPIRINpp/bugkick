(function(a){function b(){}function c(a){this.content=a;this.shown=false}a.fn.colorTip=function(d){var e={color:"yellow",timeout:500,delay:500,getTipContent:function(a){return a.attr("title")||null}};var f=["red","green","blue","white","yellow","black"];d=a.extend(e,d);return this.each(function(){var e=a(this);var g=d.getTipContent(e);if(!g)return true;var h=new b;var i=new c(g);e.append(i.generate()).addClass("colorTipContainer");var j=false;for(var k=0;k<f.length;k++){if(e.hasClass(f[k])){j=true;break}}if(!j){e.addClass(d.color)}e.hover(function(){h.set(function(){i.show()},d.delay)},function(){h.clear();h.set(function(){i.hide()},d.timeout)});e.removeAttr("title")})};b.prototype={set:function(a,b){this.timer=setTimeout(a,b)},clear:function(){clearTimeout(this.timer)}};c.prototype={generate:function(){return this.tip||(this.tip=a('<span class="colorTip">'+this.content+'<span class="pointyTipShadow"></span><span class="pointyTip"></span></span>'))},show:function(){if(this.shown)return;this.tip.css({"margin-left":-this.tip.outerWidth()/2,"margin-top":-this.tip.outerHeight()+this.tip.parent().outerHeight()}).fadeIn("fast");this.shown=true},hide:function(){this.tip.fadeOut();this.shown=false}}})(jQuery)